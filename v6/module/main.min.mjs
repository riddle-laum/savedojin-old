const siteList={"doujin-eromanga":"anilog","eromanga-collector":"buhidoh","eromanga-collector":"collector","ero-comic-hunter":"comicHunter","daretoku-eromanga":"daretoku","dd-smart.jp":"dojinsmart","doujin-dolci":"dolci",dousyoko:"doshoko",erocool:"erocool","eromanga-ace":"eromangaAce",eromangacafe:"eromangaCafe","ero-manga-kingdom":"eromangaKingdom","eromanga-mainichi":"eromangaMainichi","eromanga-milf":"eromangaMilf","eromanga-school":"eromangaSchool","eromanga-search":"eromangaSearch","eromanga-select":"eromangaSelect","hentai-books":"hentaiBooks","hime-book":"himebooj",kairakudoujin:"kairakudojin",kankoredoujin:"kancolleDojin","moeero-library":"moeero","eromanga-yoru":"yoru"},version="version 6.0.0 (alpha)",jsdelivr="https://cdn.jsdelivr.net/gh/riddle-laum/savedojin@master/v6/module.min/",assets={srcsetParse:srcsets=>{const urls=[];for(var srcset of srcsets){var max={url:"",size:0};for(var temp of srcset.split(", ")){var[url,size]=temp.split(" ");size=size.split("w")[0],max.size<size&&(max.url=url,max.size=+size)}urls.push(max.url)}return urls}};export async function main(){console.log("saveDOJIN made by Riddle : "+version);const website=(()=>{const[site,sub]=location.href.split("/")[2].split(".");return"www"==site||"ja"==site?sub:site})();if(console.log("website: "+website),siteList[website]){const{getImgList:getImgList}=await import(jsdelivr+siteList[website]+".min.mjs");if("function"!=typeof getImgList)throw new Error("getImgList is not function");makedom(await getImgList(assets))}else console.warn(website+" is not supported by saveDOJIN "+version)}function makedom({urls:urls,title:title}){if(null==urls)throw new Error;var dom=document.createElement("html"),elm;dom.appendChild(document.createElement("head")),dom.appendChild(document.createElement("body")),dom.getElementsByTagName("head")[0].appendChild(document.createElement("meta")),dom.getElementsByTagName("meta")[0].setAttribute("charset","utf-8"),dom.getElementsByTagName("body")[0].appendChild(document.createElement("div")),dom.getElementsByTagName("body")[0].appendChild(document.createElement("div")),dom.getElementsByTagName("div")[0].setAttribute("id","main-contents"),dom.getElementsByTagName("div")[1].setAttribute("id","scripts");for(let url of urls)(elm=document.createElement("img")).setAttribute("src",url),dom.getElementsByTagName("div")[0].appendChild(elm);document.getElementsByTagName("html")[0].remove(),document.appendChild(dom),void 0!==title&&(document.title=title)}